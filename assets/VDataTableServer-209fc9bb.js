import"./VRow-cccfd752.js";import{e as bt,h as ht}from"./index-fc6a3455.js";import{e as yt,h as pt,a as Pt,f as Ve}from"./VList-12c50827.js";import{az as St,q as k,x as B,y as A,r as L,al as xt,w as me,z as S,J as $,f as d,D as V,Z as wt,aA as kt,R as Ee,aq as N,ar as q,N as fe,C as he,aB as Tt,K as _,aC as Dt,aD as Vt,aE as Oe,a9 as ve,B as w,aF as ee,aG as Z,I as Ie,Y as j,j as Be,aH as Ce,S as It,aI as ge,s as Bt,t as Ct,A as Ft,au as X,aJ as Et,M as _e}from"./index-033028ba.js";import{q as Ot,V as M,F as _t,G as At,s as $t,L as Nt,p as Gt,m as Ht,g as Rt}from"./VBtn-4c1884a2.js";import{V as Lt,d as ye,m as Mt,u as jt}from"./filter-6f6c7ae3.js";import{m as qt}from"./tag-13d67880.js";function Fe(e,l,a){return Object.keys(e).filter(t=>St(t)&&t.endsWith(l)).reduce((t,n)=>(t[n.slice(0,-l.length)]=r=>e[n](r,a(r)),t),{})}const Ta=bt("v-spacer","div","VSpacer");const zt=k({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...yt({origin:"center center",scrollStrategy:"block",transition:{component:pt},zIndex:2400})},"VDialog"),Da=B()({name:"VDialog",props:zt(),emits:{"update:modelValue":e=>!0},setup(e,l){let{slots:a}=l;const t=A(e,"modelValue"),{scopeId:n}=Pt(),r=L();function c(o){var v,f;const i=o.relatedTarget,s=o.target;if(i!==s&&((v=r.value)!=null&&v.contentEl)&&((f=r.value)!=null&&f.globalTop)&&![document,r.value.contentEl].includes(s)&&!r.value.contentEl.contains(s)){const h=kt(r.value.contentEl);if(!h.length)return;const p=h[0],y=h[h.length-1];i===p?y.focus():p.focus()}}xt&&me(()=>t.value&&e.retainFocus,o=>{o?document.addEventListener("focusin",c):document.removeEventListener("focusin",c)},{immediate:!0}),me(t,async o=>{var i,s;await wt(),o?(i=r.value.contentEl)==null||i.focus({preventScroll:!0}):(s=r.value.activatorEl)==null||s.focus({preventScroll:!0})});const u=S(()=>V({"aria-haspopup":"dialog","aria-expanded":String(t.value)},e.activatorProps));return $(()=>{const o=Ve.filterProps(e);return d(Ve,V({ref:r,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},o,{modelValue:t.value,"onUpdate:modelValue":i=>t.value=i,"aria-modal":"true",activatorProps:u.value,role:"dialog"},n),{activator:a.activator,default:function(){for(var i=arguments.length,s=new Array(i),v=0;v<i;v++)s[v]=arguments[v];return d(Ot,{root:"VDialog"},{default:()=>{var f;return[(f=a.default)==null?void 0:f.call(a,...s)]}})}})}),ht({},r)}});const Ae=k({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),$e=Symbol.for("vuetify:data-table-pagination");function Ne(e){const l=A(e,"page",void 0,t=>+(t??1)),a=A(e,"itemsPerPage",void 0,t=>+(t??10));return{page:l,itemsPerPage:a}}function Ge(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=S(()=>a.value===-1?0:a.value*(l.value-1)),r=S(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),c=S(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));Ee(()=>{l.value>c.value&&(l.value=c.value)});function u(f){a.value=f,l.value=1}function o(){l.value=fe(l.value+1,1,c.value)}function i(){l.value=fe(l.value-1,1,c.value)}function s(f){l.value=fe(f,1,c.value)}const v={page:l,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:c,itemsLength:t,nextPage:o,prevPage:i,setPage:s,setItemsPerPage:u};return N($e,v),v}function Kt(){const e=q($e);if(!e)throw new Error("Missing pagination!");return e}function Wt(e){const{items:l,startIndex:a,stopIndex:t,itemsPerPage:n}=e;return{paginatedItems:S(()=>n.value<=0?l.value:l.value.slice(a.value,t.value))}}const pe=k({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),te=B()({name:"VDataTableFooter",props:pe(),setup(e,l){let{slots:a}=l;const{t}=he(),{page:n,pageCount:r,startIndex:c,stopIndex:u,itemsLength:o,itemsPerPage:i,setItemsPerPage:s}=Kt(),v=S(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:t(f.title)}));return()=>{var f;return d("div",{class:"v-data-table-footer"},[(f=a.prepend)==null?void 0:f.call(a),d("div",{class:"v-data-table-footer__items-per-page"},[d("span",null,[t(e.itemsPerPageText)]),d(Lt,{items:v.value,modelValue:i.value,"onUpdate:modelValue":h=>s(Number(h)),density:"compact",variant:"outlined","hide-details":!0},null)]),d("div",{class:"v-data-table-footer__info"},[d("div",null,[t(e.pageText,o.value?c.value+1:0,u.value,o.value)])]),d("div",{class:"v-data-table-footer__pagination"},[d(M,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":t(e.firstPageLabel)},null),d(M,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":t(e.prevPageLabel)},null),e.showCurrentPage&&d("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),d(M,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(r.value,n.value+1),disabled:n.value===r.value,"aria-label":t(e.nextPageLabel)},null),d(M,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=r.value,disabled:n.value===r.value,"aria-label":t(e.lastPageLabel)},null)])])}}}),Pe=Tt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:a}=l;const t=e.tag??"td";return d(t,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:_(e.height),width:_(e.width),left:_(e.fixedOffset||null)}},{default:()=>{var n;return[(n=a.default)==null?void 0:n.call(a)]}})}),Ut=k({headers:Array},"DataTable-header"),He=Symbol.for("vuetify:data-table-headers"),Re={title:"",sortable:!1},Jt={...Re,width:48};function Qt(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>t){l.splice(r,0,{element:a,priority:t}),n=!0;break}n||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function be(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)be(a,l);return l}function Le(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&Le(a.children,l);return l}function Yt(e){if(e.key){if(e.key==="data-table-group")return Re;if(["data-table-expand","data-table-select"].includes(e.key))return Jt}}function Se(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>Se(a,l+1))):l}function Zt(e){let l=!1;function a(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(c&&(r.fixed=!0),r.fixed)if(r.children)for(let u=r.children.length-1;u>=0;u--)a(r.children[u],!0);else l?isNaN(+r.width)&&Vt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.lastFixed=!0,l=!0;else if(r.children)for(let u=r.children.length-1;u>=0;u--)a(r.children[u]);else l=!1}for(let r=e.length-1;r>=0;r--)a(e[r]);function t(r){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return c;if(r.children){r.fixedOffset=c;for(const u of r.children)c=t(u,c)}else r.fixed&&(r.fixedOffset=c,c+=parseFloat(r.width||"0")||0);return c}let n=0;for(const r of e)n=t(r,n)}function Xt(e,l){const a=[];let t=0;const n=Qt(e);for(;n.size()>0;){let c=n.count();const u=[];let o=1;for(;c>0;){const{element:i,priority:s}=n.dequeue(),v=l-t-Se(i);if(u.push({...i,rowspan:v??1,colspan:i.children?be(i).length:1}),i.children)for(const f of i.children){const h=s%1+o/Math.pow(10,t+1);n.enqueue(f,t+v+h)}o+=1,c-=1}t+=1,a.push(u)}return{columns:e.map(c=>be(c)).flat(),headers:a}}function Me(e){const l=[];for(const a of e){const t={...Yt(a),...a},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,c={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?Me(t.children):void 0};l.push(c)}return l}function je(e,l){const a=L([]),t=L([]),n=L(),r=L();Ee(()=>{var p,y,g;const o=(e.headers||Object.keys(e.items[0]??{}).map(b=>({key:b,title:Dt(b)}))).slice(),i=Le(o);(p=l==null?void 0:l.groupBy)!=null&&p.value.length&&!i.has("data-table-group")&&o.unshift({key:"data-table-group",title:"Group"}),(y=l==null?void 0:l.showSelect)!=null&&y.value&&!i.has("data-table-select")&&o.unshift({key:"data-table-select"}),(g=l==null?void 0:l.showExpand)!=null&&g.value&&!i.has("data-table-expand")&&o.push({key:"data-table-expand"});const s=Me(o);Zt(s);const v=Math.max(...s.map(b=>Se(b)))+1,f=Xt(s,v);a.value=f.headers,t.value=f.columns;const h=f.headers.flat(1);n.value=h.reduce((b,P)=>(P.sortable&&P.key&&P.sort&&(b[P.key]=P.sort),b),{}),r.value=h.reduce((b,P)=>(P.key&&P.filter&&(b[P.key]=P.filter),b),{})});const c={headers:a,columns:t,sortFunctions:n,filterFunctions:r};return N(He,c),c}function re(){const e=q(He);if(!e)throw new Error("Missing headers!");return e}const ea={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},qe={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return qe.select({items:a,value:l,selected:t})}},ze={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return ze.select({items:a,value:l,selected:t})}},ta=k({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Oe}},"DataTable-select"),Ke=Symbol.for("vuetify:data-table-selection");function We(e,l){let{allItems:a,currentPage:t}=l;const n=A(e,"modelValue",e.modelValue,g=>new Set(ve(g).map(b=>{var P;return((P=a.value.find(x=>e.valueComparator(b,x.value)))==null?void 0:P.value)??b})),g=>[...g.values()]),r=S(()=>a.value.filter(g=>g.selectable)),c=S(()=>t.value.filter(g=>g.selectable)),u=S(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return ea;case"all":return ze;case"page":default:return qe}});function o(g){return ve(g).every(b=>n.value.has(b.value))}function i(g){return ve(g).some(b=>n.value.has(b.value))}function s(g,b){const P=u.value.select({items:g,value:b,selected:new Set(n.value)});n.value=P}function v(g){s([g],!o([g]))}function f(g){const b=u.value.selectAll({value:g,allItems:r.value,currentPage:c.value,selected:new Set(n.value)});n.value=b}const h=S(()=>n.value.size>0),p=S(()=>{const g=u.value.allSelected({allItems:r.value,currentPage:c.value});return!!g.length&&o(g)}),y={toggleSelect:v,select:s,selectAll:f,isSelected:o,isSomeSelected:i,someSelected:h,allSelected:p,showSelectAll:u.value.showSelectAll};return N(Ke,y),y}function oe(){const e=q(Ke);if(!e)throw new Error("Missing selection!");return e}const aa=k({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Ue=Symbol.for("vuetify:data-table-sort");function Je(e){const l=A(e,"sortBy"),a=w(e,"mustSort"),t=w(e,"multiSort");return{sortBy:l,mustSort:a,multiSort:t}}function Qe(e){const{sortBy:l,mustSort:a,multiSort:t,page:n}=e,r=o=>{if(o.key==null)return;let i=l.value.map(v=>({...v}))??[];const s=i.find(v=>v.key===o.key);s?s.order==="desc"?a.value?s.order="asc":i=i.filter(v=>v.key!==o.key):s.order="desc":t.value?i=[...i,{key:o.key,order:"asc"}]:i=[{key:o.key,order:"asc"}],l.value=i,n&&(n.value=1)};function c(o){return!!l.value.find(i=>i.key===o.key)}const u={sortBy:l,toggleSort:r,isSorted:c};return N(Ue,u),u}function la(){const e=q(Ue);if(!e)throw new Error("Missing sort!");return e}function na(e,l,a,t){const n=he();return{sortedItems:S(()=>a.value.length?ra(l.value,a.value,n.current.value,{...e.customKeySort,...t==null?void 0:t.value}):l.value)}}function ra(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((r,c)=>{for(let u=0;u<l.length;u++){const o=l[u].key,i=l[u].order??"asc";if(i===!1)continue;let s=ee(r.raw,o),v=ee(c.raw,o);if(i==="desc"&&([s,v]=[v,s]),t!=null&&t[o]){const f=t[o](s,v);if(!f)continue;return f}if(s instanceof Date&&v instanceof Date)return s.getTime()-v.getTime();if([s,v]=[s,v].map(f=>f!=null?f.toString().toLocaleLowerCase():f),s!==v)return Z(s)&&Z(v)?0:Z(s)?-1:Z(v)?1:!isNaN(s)&&!isNaN(v)?Number(s)-Number(v):n.compare(s,v)}return 0})}const Ye=k({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Ie,default:"$sortAsc"},sortDescIcon:{type:Ie,default:"$sortDesc"},..._t()},"VDataTableHeaders"),ae=B()({name:"VDataTableHeaders",props:Ye(),setup(e,l){let{slots:a}=l;const{toggleSort:t,sortBy:n,isSorted:r}=la(),{someSelected:c,allSelected:u,selectAll:o,showSelectAll:i}=oe(),{columns:s,headers:v}=re(),{loaderClasses:f}=At(e);function h(x,m){if(!(!e.sticky&&!x.fixed))return{position:"sticky",left:x.fixed?_(x.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${m})`:void 0}}function p(x){const m=n.value.find(I=>I.key===x.key);return m?m.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:g}=$t(e,"color"),b=S(()=>({headers:v.value,columns:s.value,toggleSort:t,isSorted:r,sortBy:n.value,someSelected:c.value,allSelected:u.value,selectAll:o,getSortIcon:p})),P=x=>{let{column:m,x:I,y:F}=x;const z=m.key==="data-table-select"||m.key==="data-table-expand";return d(Pe,V({tag:"th",align:m.align,class:["v-data-table__th",{"v-data-table__th--sortable":m.sortable,"v-data-table__th--sorted":r(m),"v-data-table__th--fixed":m.fixed},f.value],style:{width:_(m.width),minWidth:_(m.width),...h(m,F)},colspan:m.colspan,rowspan:m.rowspan,onClick:m.sortable?()=>t(m):void 0,fixed:m.fixed,lastFixed:m.lastFixed,noPadding:z},m.headerProps),{default:()=>{var H;const E=`header.${m.key}`,G={column:m,selectAll:o,isSorted:r,toggleSort:t,sortBy:n.value,someSelected:c.value,allSelected:u.value,getSortIcon:p};return a[E]?a[E](G):m.key==="data-table-select"?((H=a["header.data-table-select"])==null?void 0:H.call(a,G))??(i&&d(ye,{modelValue:u.value,indeterminate:c.value&&!u.value,"onUpdate:modelValue":o},null)):d("div",{class:"v-data-table-header__content"},[d("span",null,[m.title]),m.sortable&&d(Gt,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(m)},null),e.multiSort&&r(m)&&d("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:g.value},[n.value.findIndex(K=>K.key===m.key)+1])])}})};$(()=>d(j,null,[a.headers?a.headers(b.value):v.value.map((x,m)=>d("tr",null,[x.map((I,F)=>d(P,{column:I,x:F,y:m},null))])),e.loading&&d("tr",{class:"v-data-table-progress"},[d("th",{colspan:s.value.length},[d(Nt,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),oa=k({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ze=Symbol.for("vuetify:data-table-group");function Xe(e){return{groupBy:A(e,"groupBy")}}function et(e){const{groupBy:l,sortBy:a}=e,t=L(new Set),n=S(()=>l.value.map(i=>({...i,order:i.order??!1})).concat(a.value));function r(i){return t.value.has(i.id)}function c(i){const s=new Set(t.value);r(i)?s.delete(i.id):s.add(i.id),t.value=s}function u(i){function s(v){const f=[];for(const h of v.items)"type"in h&&h.type==="group"?f.push(...s(h)):f.push(h);return f}return s({type:"group",items:i,id:"dummy",key:"dummy",value:"dummy",depth:0})}const o={sortByWithGroups:n,toggleGroup:c,opened:t,groupBy:l,extractRows:u,isGroupOpen:r};return N(Ze,o),o}function tt(){const e=q(Ze);if(!e)throw new Error("Missing group!");return e}function ua(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=ee(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function at(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ua(e,l[0]),r=[],c=l.slice(1);return n.forEach((u,o)=>{const i=l[0],s=`${t}_${i}_${o}`;r.push({depth:a,id:s,key:i,value:o,items:c.length?at(u,c,a+1,s):u,type:"group"})}),r}function lt(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...lt(t.items,l))):a.push(t);return a}function nt(e,l,a){return{flatItems:S(()=>{if(!l.value.length)return e.value;const n=at(e.value,l.value.map(r=>r.key));return lt(n,a.value)})}}const sa=k({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ia=B()({name:"VDataTableGroupHeaderRow",props:sa(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=tt(),{isSelected:c,isSomeSelected:u,select:o}=oe(),{columns:i}=re(),s=S(()=>r([e.item]));return()=>d("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[i.value.map(v=>{var f,h;if(v.key==="data-table-group"){const p=t(e.item)?"$expand":"$next",y=()=>n(e.item);return((f=a["data-table-group"])==null?void 0:f.call(a,{item:e.item,count:s.value.length,props:{icon:p,onClick:y}}))??d(Pe,{class:"v-data-table-group-header-row__column"},{default:()=>[d(M,{size:"small",variant:"text",icon:p,onClick:y},null),d("span",null,[e.item.value]),d("span",null,[Be("("),s.value.length,Be(")")])]})}if(v.key==="data-table-select"){const p=c(s.value),y=u(s.value)&&!p,g=b=>o(s.value,b);return((h=a["data-table-select"])==null?void 0:h.call(a,{props:{modelValue:p,indeterminate:y,"onUpdate:modelValue":g}}))??d("td",null,[d(ye,{modelValue:p,indeterminate:y,"onUpdate:modelValue":g},null)])}return d("td",null,null)})])}}),ca=k({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),rt=Symbol.for("vuetify:datatable:expanded");function ot(e){const l=w(e,"expandOnClick"),a=A(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function t(u,o){const i=new Set(a.value);o?i.add(u.value):i.delete(u.value),a.value=i}function n(u){return a.value.has(u.value)}function r(u){t(u,!n(u))}const c={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return N(rt,c),c}function ut(){const e=q(rt);if(!e)throw new Error("foo");return e}const da=k({index:Number,item:Object,cellProps:[Object,Function],onClick:ge(),onContextmenu:ge(),onDblclick:ge()},"VDataTableRow"),fa=B()({name:"VDataTableRow",props:da(),setup(e,l){let{slots:a}=l;const{isSelected:t,toggleSelect:n}=oe(),{isExpanded:r,toggleExpand:c}=ut(),{columns:u}=re();$(()=>d("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)}],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&u.value.map((o,i)=>{const s=e.item,v=`item.${o.key}`,f={index:e.index,item:s.raw,internalItem:s,value:ee(s.columns,o.key),column:o,isSelected:t,toggleSelect:n,isExpanded:r,toggleExpand:c},h=typeof e.cellProps=="function"?e.cellProps({index:f.index,item:f.item,internalItem:f.internalItem,value:f.value,column:o}):e.cellProps,p=typeof o.cellProps=="function"?o.cellProps({index:f.index,item:f.item,internalItem:f.internalItem,value:f.value}):o.cellProps;return d(Pe,V({align:o.align,fixed:o.fixed,fixedOffset:o.fixedOffset,lastFixed:o.lastFixed,noPadding:o.key==="data-table-select"||o.key==="data-table-expand",width:o.width},h,p),{default:()=>{var y,g;return a[v]?a[v](f):o.key==="data-table-select"?((y=a["item.data-table-select"])==null?void 0:y.call(a,f))??d(ye,{disabled:!s.selectable,modelValue:t([s]),onClick:Ce(()=>n(s),["stop"])},null):o.key==="data-table-expand"?((g=a["item.data-table-expand"])==null?void 0:g.call(a,f))??d(M,{icon:r(s)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ce(()=>c(s),["stop"])},null):It(f.value)}})})]))}}),st=k({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),le=B()({name:"VDataTableRows",inheritAttrs:!1,props:st(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:n}=re(),{expandOnClick:r,toggleExpand:c,isExpanded:u}=ut(),{isSelected:o,toggleSelect:i}=oe(),{toggleGroup:s,isGroupOpen:v}=tt(),{t:f}=he();return $(()=>{var h,p;return e.loading?d("tr",{class:"v-data-table-rows-loading",key:"loading"},[d("td",{colspan:n.value.length},[((h=t.loading)==null?void 0:h.call(t))??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?d("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[d("td",{colspan:n.value.length},[((p=t["no-data"])==null?void 0:p.call(t))??f(e.noDataText)])]):d(j,null,[e.items.map((y,g)=>{var x;if(y.type==="group"){const m={index:g,item:y,columns:n.value,isExpanded:u,toggleExpand:c,isSelected:o,toggleSelect:i,toggleGroup:s,isGroupOpen:v};return t["group-header"]?t["group-header"](m):d(ia,V({key:`group-header_${y.id}`,item:y},Fe(a,":group-header",()=>m)),t)}const b={index:g,item:y.raw,internalItem:y,columns:n.value,isExpanded:u,toggleExpand:c,isSelected:o,toggleSelect:i},P={...b,props:V({key:`item_${y.key??y.index}`,onClick:r.value?()=>{c(y)}:void 0,index:g,item:y,cellProps:e.cellProps},Fe(a,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return d(j,{key:P.props.key},[t.item?t.item(P):d(fa,P.props,t),u(y)&&((x=t["expanded-row"])==null?void 0:x.call(t,b))])})])}),{}}});const it=k({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Bt(),...Ht(),...qt(),...Ct()},"VTable"),ne=B()({name:"VTable",props:it(),setup(e,l){let{slots:a,emit:t}=l;const{themeClasses:n}=Ft(e),{densityClasses:r}=Rt(e);return $(()=>d(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!a.top,"v-table--has-bottom":!!a.bottom,"v-table--hover":e.hover},n.value,r.value,e.class],style:e.style},{default:()=>{var c,u,o;return[(c=a.top)==null?void 0:c.call(a),a.default?d("div",{class:"v-table__wrapper",style:{height:_(e.height)}},[d("table",null,[a.default()])]):(u=a.wrapper)==null?void 0:u.call(a),(o=a.bottom)==null?void 0:o.call(a)]}})),{}}}),va=k({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ga(e,l,a,t){const n=e.returnObject?l:X(l,e.itemValue),r=X(l,e.itemSelectable,!0),c=t.reduce((u,o)=>(o.key!=null&&(u[o.key]=X(l,o.value)),u),{});return{type:"item",key:e.returnObject?X(l,e.itemValue):n,index:a,value:n,selectable:r,columns:c,raw:l}}function ma(e,l,a){return l.map((t,n)=>ga(e,t,n,a))}function ct(e,l){return{items:S(()=>ma(e,e.items,l.value))}}function dt(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const c=Et("VDataTable"),u=S(()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value}));let o=null;me(u,()=>{Oe(o,u.value)||((o==null?void 0:o.search)!==u.value.search&&(l.value=1),c.emit("update:options",u.value),o=u.value)},{deep:!0,immediate:!0})}const ft=k({...st(),width:[String,Number],search:String,...ca(),...oa(),...Ut(),...va(),...ta(),...aa(),...Ye(),...it()},"DataTable"),ba=k({...Ae(),...ft(),...Mt(),...pe()},"VDataTable");B()({name:"VDataTable",props:ba(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Xe(e),{sortBy:r,multiSort:c,mustSort:u}=Je(e),{page:o,itemsPerPage:i}=Ne(e),{columns:s,headers:v,sortFunctions:f,filterFunctions:h}=je(e,{groupBy:n,showSelect:w(e,"showSelect"),showExpand:w(e,"showExpand")}),{items:p}=ct(e,s),y=w(e,"search"),{filteredItems:g}=jt(e,p,y,{transform:C=>C.columns,customKeyFilter:h}),{toggleSort:b}=Qe({sortBy:r,multiSort:c,mustSort:u,page:o}),{sortByWithGroups:P,opened:x,extractRows:m,isGroupOpen:I,toggleGroup:F}=et({groupBy:n,sortBy:r}),{sortedItems:z}=na(e,g,P,f),{flatItems:E}=nt(z,n,x),G=S(()=>E.value.length),{startIndex:H,stopIndex:K,pageCount:ue,setItemsPerPage:se}=Ge({page:o,itemsPerPage:i,itemsLength:G}),{paginatedItems:R}=Wt({items:E,startIndex:H,stopIndex:K,itemsPerPage:i}),T=S(()=>m(R.value)),{isSelected:W,select:ie,selectAll:ce,toggleSelect:de,someSelected:O,allSelected:J}=We(e,{allItems:p,currentPage:T}),{isExpanded:Q,toggleExpand:Y}=ot(e);dt({page:o,itemsPerPage:i,sortBy:r,groupBy:n,search:y}),_e({VDataTableRows:{hideNoData:w(e,"hideNoData"),noDataText:w(e,"noDataText"),loading:w(e,"loading"),loadingText:w(e,"loadingText")}});const D=S(()=>({page:o.value,itemsPerPage:i.value,sortBy:r.value,pageCount:ue.value,toggleSort:b,setItemsPerPage:se,someSelected:O.value,allSelected:J.value,isSelected:W,select:ie,selectAll:ce,toggleSelect:de,isExpanded:Q,toggleExpand:Y,isGroupOpen:I,toggleGroup:F,items:T.value.map(C=>C.raw),internalItems:T.value,groupedItems:R.value,columns:s.value,headers:v.value}));return $(()=>{const C=te.filterProps(e),vt=ae.filterProps(e),gt=le.filterProps(e),mt=ne.filterProps(e);return d(ne,V({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},mt),{top:()=>{var U;return(U=t.top)==null?void 0:U.call(t,D.value)},default:()=>{var U,xe,we,ke,Te,De;return t.default?t.default(D.value):d(j,null,[(U=t.colgroup)==null?void 0:U.call(t,D.value),d("thead",null,[d(ae,vt,t)]),(xe=t.thead)==null?void 0:xe.call(t,D.value),d("tbody",null,[(we=t["body.prepend"])==null?void 0:we.call(t,D.value),t.body?t.body(D.value):d(le,V(a,gt,{items:R.value}),t),(ke=t["body.append"])==null?void 0:ke.call(t,D.value)]),(Te=t.tbody)==null?void 0:Te.call(t,D.value),(De=t.tfoot)==null?void 0:De.call(t,D.value)])},bottom:()=>t.bottom?t.bottom(D.value):d(j,null,[d(te,C,{prepend:t["footer.prepend"]})])})}),{}}});const ha=k({itemsLength:{type:[Number,String],required:!0},...Ae(),...ft(),...pe()},"VDataTableServer"),Va=B()({name:"VDataTableServer",props:ha(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Xe(e),{sortBy:r,multiSort:c,mustSort:u}=Je(e),{page:o,itemsPerPage:i}=Ne(e),s=S(()=>parseInt(e.itemsLength,10)),{columns:v,headers:f}=je(e,{groupBy:n,showSelect:w(e,"showSelect"),showExpand:w(e,"showExpand")}),{items:h}=ct(e,v),{toggleSort:p}=Qe({sortBy:r,multiSort:c,mustSort:u,page:o}),{opened:y,isGroupOpen:g,toggleGroup:b,extractRows:P}=et({groupBy:n,sortBy:r}),{pageCount:x,setItemsPerPage:m}=Ge({page:o,itemsPerPage:i,itemsLength:s}),{flatItems:I}=nt(h,n,y),{isSelected:F,select:z,selectAll:E,toggleSelect:G,someSelected:H,allSelected:K}=We(e,{allItems:h,currentPage:h}),{isExpanded:ue,toggleExpand:se}=ot(e),R=S(()=>P(h.value));dt({page:o,itemsPerPage:i,sortBy:r,groupBy:n,search:w(e,"search")}),N("v-data-table",{toggleSort:p,sortBy:r}),_e({VDataTableRows:{hideNoData:w(e,"hideNoData"),noDataText:w(e,"noDataText"),loading:w(e,"loading"),loadingText:w(e,"loadingText")}});const T=S(()=>({page:o.value,itemsPerPage:i.value,sortBy:r.value,pageCount:x.value,toggleSort:p,setItemsPerPage:m,someSelected:H.value,allSelected:K.value,isSelected:F,select:z,selectAll:E,toggleSelect:G,isExpanded:ue,toggleExpand:se,isGroupOpen:g,toggleGroup:b,items:R.value.map(W=>W.raw),internalItems:R.value,groupedItems:I.value,columns:v.value,headers:f.value}));$(()=>{const W=te.filterProps(e),ie=ae.filterProps(e),ce=le.filterProps(e),de=ne.filterProps(e);return d(ne,V({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},de),{top:()=>{var O;return(O=t.top)==null?void 0:O.call(t,T.value)},default:()=>{var O,J,Q,Y,D,C;return t.default?t.default(T.value):d(j,null,[(O=t.colgroup)==null?void 0:O.call(t,T.value),d("thead",{class:"v-data-table__thead",role:"rowgroup"},[d(ae,V(ie,{sticky:e.fixedHeader}),t)]),(J=t.thead)==null?void 0:J.call(t,T.value),d("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(Q=t["body.prepend"])==null?void 0:Q.call(t,T.value),t.body?t.body(T.value):d(le,V(a,ce,{items:I.value}),t),(Y=t["body.append"])==null?void 0:Y.call(t,T.value)]),(D=t.tbody)==null?void 0:D.call(t,T.value),(C=t.tfoot)==null?void 0:C.call(t,T.value)])},bottom:()=>t.bottom?t.bottom(T.value):d(te,W,{prepend:t["footer.prepend"]})})})}});export{Va as V,Ta as a,Da as b};
