import{_ as T}from"./ViewGroup.vue_vue_type_script_setup_true_lang-9f9a8903.js";import{v as b}from"./lazy-eda09f13.js";import{d as D,r as N}from"./group-e736e658.js";import{u as w}from"./snackbar-867af268.js";import{p as $,V as p}from"./VBtn-421a5577.js";import{a as x,b as G,j as y,V as E}from"./index-6405a72a.js";import{a as f,b as S}from"./VDataTableServer-921b4e3b.js";import{d as _,o as h,h as v,g as t,f as e,a as C,j as r,S as I,m as g}from"./index-69d1502a.js";import{l as R}from"./group-465346e7.js";import{b as k,a as V,V as j}from"./VRow-1f387fa0.js";import"./permission-2c18b797.js";import"./VTextField-f7af6f26.js";import"./VChip-b541bb3f.js";import"./tag-446592ee.js";import"./VList-0497e142.js";import"./filter-bfc06a5f.js";import"./api-77cd4ed9.js";const B={class:"d-flex justify-end mb-2"},A=_({__name:"DeleteGroup",props:{groupId:{}},emits:["update:modelValue","update:show","deleted"],setup(c,{emit:d}){const i=c,s=d,a=w();function m(l){D(i.groupId).then(u=>{if(!u.data.success)throw Error;s("deleted"),a.showSnackbar("Group user data has been deleted!","success"),setTimeout(()=>{l.value=!1},1e3)}).catch(()=>{a.showSnackbar("Failed to delete group user!","error")})}return(l,u)=>(h(),v(S,{width:"auto",activator:"parent"},{default:t(({isActive:o})=>[e(E,{class:"text-center pa-4",rounded:"lg"},{default:t(()=>[C("div",B,[e($,{onClick:n=>o.value=!1,size:"small"},{default:t(()=>[r(I(g(b)),1)]),_:2},1032,["onClick"])]),e(x,null,{default:t(()=>[e(G,null,{default:t(()=>[r(" Are you sure want to delete the user group? ")]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(f),e(p,{onClick:n=>m(o),variant:"flat",color:"primary"},{default:t(()=>[r(" DELETE ")]),_:2},1032,["onClick"]),e(p,{onClick:n=>o.value=!1,color:"primary"},{default:t(()=>[r(" CANCEL ")]),_:2},1032,["onClick"]),e(f)]),_:2},1024)]),_:2},1024)]),_:1}))}}),L={class:"d-flex justify-end mb-2"},z=_({__name:"ReactivateGroup",props:{groupId:{}},emits:["update:modelValue","update:show","reactivated"],setup(c,{emit:d}){const i=c,s=d,a=w();function m(l){N(i.groupId).then(u=>{if(!u.data.success)throw Error;a.showSnackbar("Group user data has been reactivated!","success"),s("reactivated"),setTimeout(()=>{l.value=!1},1e3)}).catch(()=>{a.showSnackbar("Failed to reactivate group user!","error")})}return(l,u)=>(h(),v(S,{width:"auto",activator:"parent"},{default:t(({isActive:o})=>[e(E,{class:"text-center pa-4",rounded:"lg"},{default:t(()=>[C("div",L,[e($,{onClick:n=>o.value=!1,size:"small"},{default:t(()=>[r(I(g(b)),1)]),_:2},1032,["onClick"])]),e(x,null,{default:t(()=>[e(G,null,{default:t(()=>[r(" Are you sure want to reactivate the user group? ")]),_:1})]),_:1}),e(y,null,{default:t(()=>[e(f),e(p,{onClick:n=>m(o),variant:"flat",color:"primary"},{default:t(()=>[r(" REACTIVATE ")]),_:2},1032,["onClick"]),e(p,{onClick:n=>o.value=!1,color:"primary"},{default:t(()=>[r(" CANCEL ")]),_:2},1032,["onClick"]),e(f)]),_:2},1024)]),_:2},1024)]),_:1}))}}),F=C("div",{class:"text-h5 font-weight-bold"},"User Groups",-1),re=_({__name:"GroupManagement",setup(c){return(d,i)=>(h(),v(j,{fluid:""},{default:t(()=>[e(V,null,{default:t(()=>[e(k,null,{default:t(()=>[F]),_:1})]),_:1}),e(V,null,{default:t(()=>[e(k,null,{default:t(()=>[e(T,{"list-group":g(R)},{delete:t(({loadGroups:s,group:a})=>[e(A,{"group-id":a.id,onDeleted:s},null,8,["group-id","onDeleted"])]),reactivate:t(({loadGroups:s,group:a})=>[e(z,{"group-id":a.id,onReactivated:s},null,8,["group-id","onReactivated"])]),_:1},8,["list-group"])]),_:1})]),_:1})]),_:1}))}});export{re as default};
