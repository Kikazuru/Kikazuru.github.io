import{x as D,y as E}from"./lazy-eda09f13.js";import{V as b,a as S,b as w,d as j}from"./index-6405a72a.js";import{V as P}from"./VTextField-f7af6f26.js";import{e as T}from"./VStepper-8c1ebb00.js";import{b as $,a as G}from"./VRow-1f387fa0.js";import{p as F}from"./VBtn-421a5577.js";import{d as L,r as I,z as B,o as s,h as g,g as e,f as l,j as m,c,ag as h,Y as k,a as r,S as n,m as N}from"./index-69d1502a.js";import{p as M}from"./permission-2c18b797.js";import{a as O,V as R}from"./VChip-b541bb3f.js";const Y={class:"text-caption"},q={class:"text-caption"},A=r("div",{class:"ma-1"},null,-1),ae=L({__name:"SelectUser",props:{modelValue:{},getUsers:{type:Function}},emits:["update:modelValue"],setup(x,{emit:C}){const _=I(1),p=I([]),o=B({get(){return d.modelValue},set(t){u("update:modelValue",t)}}),v=B(()=>p.value.filter(t=>{if(!o.value.map(i=>i.id).includes(t.id))return t})),d=x,u=C;async function f({done:t}){d.getUsers(_.value).then(i=>{const a=i.data.result;a.users?(p.value.push(...a.users||[]),t("ok"),_.value++):t("empty")}).catch(()=>{})}function V(t){o.value.push(t)}function U(t){o.value.splice(t,1)}return(t,i)=>(s(),g(G,null,{default:e(()=>[l($,null,{default:e(()=>[l(b,null,{default:e(()=>[l(S,null,{default:e(()=>[l(w,null,{default:e(()=>[m("Users")]),_:1})]),_:1}),l(j,null,{default:e(()=>[l(P,{label:"Search User"}),l(T,{height:"600",items:p.value,onLoad:f},{default:e(()=>[(s(!0),c(k,null,h(v.value,(a,y)=>(s(),c("div",{key:y,class:"ma-1 pa-2 rounded-lg bg-primary d-flex justify-space-between align-center"},[r("div",null,[r("div",null,n(a.name),1),r("div",Y,n(a.email),1)]),l(F,{onClick:z=>V(a)},{default:e(()=>[m(n(N(D)),1)]),_:2},1032,["onClick"])]))),128))]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),l($,null,{default:e(()=>[l(b,null,{default:e(()=>[l(S,null,{default:e(()=>[l(w,null,{default:e(()=>[m("Selected User")]),_:1})]),_:1}),l(j,null,{default:e(()=>[l(P,{label:"Search User"}),l(T,{height:"600",onLoad:i[0]||(i[0]=({done:a})=>{a("empty")})},{empty:e(()=>[A]),default:e(()=>[(s(!0),c(k,null,h(o.value,(a,y)=>(s(),c("div",{key:y,class:"ma-1 pa-2 rounded-lg bg-primary d-flex justify-space-between align-center"},[r("div",null,[r("div",null,n(a.name),1),r("div",q,n(a.email),1)]),l(F,{onClick:z=>U(y)},{default:e(()=>[m(n(N(E)),1)]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),H={class:"d-flex flex-wrap"},se=L({__name:"SelectPermission",props:{modelValue:{}},emits:["update:modelValue"],setup(x,{emit:C}){const _=x,p=C,o=B({get(){return Object.keys(_.modelValue)},set(v){const d=v.reduce((u,f)=>({...u,[f]:!0}),{});p("update:modelValue",d)}});return(v,d)=>(s(),g(O,{filter:"",color:"primary",multiple:"",modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=u=>o.value=u)},{default:e(()=>[(s(!0),c(k,null,h(N(M),(u,f)=>(s(),g(b,{key:f,class:"ma-2 w-100"},{default:e(()=>[l(S,null,{default:e(()=>[l(w,null,{default:e(()=>[m(n(u.menuName),1)]),_:2},1024)]),_:2},1024),l(j,null,{default:e(()=>[r("div",H,[(s(!0),c(k,null,h(u.actions,(V,U)=>(s(),g(R,{key:U,class:"me-2 my-2",label:"",value:V.value},{default:e(()=>[m(n(V.title),1)]),_:2},1032,["value"]))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["modelValue"]))}});export{ae as _,se as a};
